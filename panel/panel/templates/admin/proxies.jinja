{% extends "admin/base.jinja" %}
{% block content %}

<div class="route-section-text mt-4">
    <div class="mb-2">
        –í—Ç–æ—Ä–∏—á–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ –≤–∞—à–µ–º—É VPN –ø–æ –ø—Ä—è–º—ã–º IP-–º–∞—Ä—à—Ä—É—Ç–∞–º, –º–∏–Ω—É—è CDN –¥–ª—è 
        –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –≤ —Ç–µ—Ö —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –±–ª–æ–∫–∏—Ä—É—é—Ç CDN.
    </div>
    <div class="mb-2" style="opacity: 0.75">
        IP-–∞–¥—Ä–µ—Å–∞ –≤—Ç–æ—Ä–∏—á–Ω—ã—Ö –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Å—è—Ü–µ–≤, –∏ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç—å
        —Å—Ç–∞—Ä—ã–π –≤—Ç–æ—Ä–∏—á–Ω—ã–π –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π, –Ω–µ –Ω–∞—Ä—É—à–∞—è —Ä–∞–±–æ—Ç—É –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.
    </div>
</div>

<div class="w-100 mt-4 px-3">
    <a class="btn btn-primary add-proxy-button float-start float-sm-end" href="#">
        –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –≤—Ç–æ—Ä–∏—á–Ω—ã–π –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä
    </a>
</div>
<div style="clear: both"></div>
<div class="add-proxy-instructions my-4 mx-3 px-3 py-4" style="border: 1px solid #aaa; border-radius: 16px; display: none;">
    –ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –≤—Ç–æ—Ä–∏—á–Ω—ã–π –ø—Ä–æ–∫—Å–∏ –≤ VPN, –∫—É–ø–∏—Ç–µ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –≤ –æ–±–æ–ª–æ—á–∫—É SSH:<br /><br />
    <code id="codeToCopy"></code>
    <br />
    <br />
    <button class="btn btn-outline-primary btn-copy">
        –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
    </button>
</div>

<script>
    function copyCode() {
        var codeToCopy = document.querySelector("#codeToCopy").innerText;
        navigator.clipboard.writeText(codeToCopy);

        document.querySelector(".btn-copy").innerText = "Copied!";
        setTimeout(function() {
            document.querySelector(".btn-copy").innerText = "Copy code to clipboard";
        }, 2000);
    }

    document.querySelector("#codeToCopy").addEventListener("click", function() {
        copyCode();

        // select the whole code
        var range = document.createRange();
        range.selectNode(document.querySelector("#codeToCopy"));
        window.getSelection().removeAllRanges();
        window.getSelection().addRange(range);
    });

    document.querySelector(".add-proxy-button").addEventListener("click", function() {
        document.querySelector(".add-proxy-instructions").style.display = "block";
        document.querySelector(".add-proxy-button").style.display = "none";
    });

    document.querySelector(".btn-copy").addEventListener("click", function() {
        copyCode();
    });

    var goToNew = new URLSearchParams(window.location.search).get('new');
    if (goToNew) {
        document.querySelector(".add-proxy-instructions").style.display = "block";
        document.querySelector(".add-proxy-button").style.display = "none";
    }
</script>

<div class="list-group list-group-flush mt-2">
    {% for proxy in proxies %}
        <a href="#" class="list-group-item list-group-item-action">
            <div class="row">
                <div class="col-12 list-item-title">
                    {{ proxy.ip }}
                </div>
                <div class="col-12 list-item-subtitle">
                    üü¢ –û–Ω–ª–∞–π–Ω
                </div>
            </div>
        </a>
    {% endfor %}
</div>
{% endblock %}
